<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Image Captioning</title>
	<link rel="icon" href="favicon.ico">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

	<style>
		.heading {
			font-size: 3rem;
		}

		img {
			height: 90%;
			width: 100%;
		}

		.text {
			font-size: 32px;
			font-style: italic;
		}

		form {
			display:inline-block;
		}

	</style>

	</head>
	<body  style="background-color: #E4F9F5;">
		<div class="container">

		<div class="jumbotron">
			<div class="container">
				<h1 class="heading text-center"><b> IMAGE CAPTIONING </b></h1>
				<p class="text-center">Upload your image to generate a caption..</p>
			</div>
		</div>

		<form class="form-class d-flex justify-content-evenly" style="margin-top: 4rem;" method ="POST" action = "/" enctype = "multipart/form-data">
<div>
			<label class = "label-class"><b> Image : </b></label>
			<input class="form-control" type="file" name="userfile" placeholder="Your Image">
</div>
<div>
		<button type="submit" class="btn btn-outline-info mt-4"> Submit </button>
</div>

		</form>

		<br>
		<br>

		{% if your_result %}


	<div class="card m-auto shadow rounded-2 img-responsive" style="max-width: 25rem;" >
  <img src="{{your_result['image']}}" class="card-img-top " alt="...">
  <div class="card-body">
    <h5 class="card-title">Generated Caption :</h5>
    <p class="card-text">{{your_result['caption']}}</p>
  </div>
</div>

			<script >
				let utterance = new SpeechSynthesisUtterance("{{your_result['caption']}}");
				const  call= ()=> {
			speechSynthesis.speak(utterance);
			}
			call()
			</script>

		{% endif %}

	</div>

</body>
</html>
